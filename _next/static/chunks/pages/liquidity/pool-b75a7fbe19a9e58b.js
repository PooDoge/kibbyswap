(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{5155:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/liquidity/pool",function(){return c(5278)}])},4622:function(a,b,c){"use strict";c.d(b,{Z:function(){return g}});var d=c(5893),e=c(10),f=c.n(e);function g(a){var b=a.title,c=a.subTitle;return(0,d.jsxs)("div",{className:f().header,children:[(0,d.jsx)("h1",{className:f().title,children:b}),c&&(0,d.jsx)("h5",{className:f().subTitle,children:c})]})}},5278:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return _}});var d,e,f=c(7568),g=c(9815),h=c(4051),i=c.n(h),j=c(5893),k=c(6616),l=c(4148),m=c.n(l),n=c(7044),o=c(4146),p=c(2593),q=c(7294),r=c(155),s=c(6766),t=c(388),u=c(1769),v=c(9245),w=c(6473),x=c(2267),y=c.n(x),z=c(6449),A=c(3310),B=c(8102),C=c(9380);function D(a){var b=(0,q.useRef)();return(0,q.useEffect)(function(){b.current=a},[a]),b.current}var E,F,G=c(4926),H=c(4431),I=c.n(H);(E=d||(d={})).MainToken="mainToken",E.BaseToken="baseToken",E.None="none";var J={pair:null,mainTokenPrice:null,baseTokenPrice:null,newMainTokenAmount:"",newBaseTokenAmount:"",poolPercentage:null,fetched:!1,addLiquidity:(F=(0,f.Z)(i().mark(function a(b,c,d,e,f,g){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:case"end":return a.stop()}},a)})),function(a,b,c,d,e,f){return F.apply(this,arguments)})};function K(a,b,c){return L.apply(this,arguments)}function L(){return(L=(0,f.Z)(i().mark(function a(b,c,d){var e,f,g;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=(0,v.pu)(b),f=(0,v.pu)(c),a.prev=2,a.next=5,B.Fetcher.fetchPairData(e,f,d);case 5:return g=a.sent,a.abrupt("return",g);case 9:return a.prev=9,a.t0=a.catch(2),a.abrupt("return",null);case 12:case"end":return a.stop()}},a,null,[[2,9]])}))).apply(this,arguments)}function M(a,b,c,d,e,f){return N.apply(this,arguments)}function N(){return(N=(0,f.Z)(i().mark(function a(b,c,e,f,g,h){var j,k,l,m,n,p,q,r;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(j={poolPercentage:null,mainTokenPrice:null,baseTokenPrice:null,newMainTokenAmount:null,newBaseTokenAmount:null,lpTokensReceivedAmount:null},!(b&&c.main&&c.base)){a.next=13;break}return k=(0,v.pu)(c.main),l=(0,v.pu)(c.base),j.mainTokenPrice=b.priceOf(k),j.baseTokenPrice=b.priceOf(l),m=new o.Contract(b.liquidityToken.address,C,h),a.next=9,m.totalSupply();case 9:n=a.sent,p=new B.TokenAmount(b.liquidityToken,n),g===d.MainToken?(q=new B.TokenAmount(k,(0,w.ST)(e,k.decimals).toString()),j.newBaseTokenAmount=new B.TokenAmount(l,j.mainTokenPrice.quote(q).raw),j.lpTokensReceivedAmount=b.getLiquidityMinted(p,q,j.newBaseTokenAmount)):g===d.BaseToken&&(r=new B.TokenAmount(l,(0,w.ST)(f,l.decimals).toString()),j.newMainTokenAmount=new B.TokenAmount(k,j.baseTokenPrice.quote(r).raw),j.lpTokensReceivedAmount=b.getLiquidityMinted(p,r,j.newMainTokenAmount)),j.lpTokensReceivedAmount&&(j.poolPercentage=new B.Percent(j.lpTokensReceivedAmount.raw,p.add(j.lpTokensReceivedAmount).raw));case 13:return a.abrupt("return",j);case 14:case"end":return a.stop()}},a)}))).apply(this,arguments)}var O=c(4020),P=c(4305),Q=c(782),R=c(7183);function S(a){var b,c,e,h,k,l,m,x,B,C,E,F,H,L,N,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad=a.tokens,ae=a.setTokens,af=(0,A.Z)(),ag=(0,P.Z)(),ah=(0,n.Ge)(),ai=ah.account,aj=ah.library,ak=(0,u.Z)().defaultTokenList,al=(0,q.useState)(""),am=al[0],an=al[1],ao=(0,q.useState)(""),ap=ao[0],aq=ao[1],ar=(0,q.useState)(!1),as=ar[0],at=ar[1],au=(0,q.useState)(!1),av=au[0],aw=au[1],ax=(0,q.useState)({main:!1,base:!1}),ay=ax[0],az=ax[1],aA=(0,R.Z)(ad),aB=aA.balances,aC=aA.getBalance,aD=(0,q.useState)(!1),aE=aD[0],aF=aD[1],aG=(0,q.useState)(d.None),aH=aG[0],aI=aG[1],aJ=(m=ad,x=am,B=ap,C=aH,E=af.slippage,H=(F=(0,n.Ge)()).account,L=F.library,N=(0,n.Ge)(t.p5.mainNet.id.toString()),S=N.library,T=N.active,U=N.activate,V=(0,q.useState)(J),W=V[0],X=V[1],Y=D(m),Z=D(x),$=D(B),(0,q.useEffect)(function(){T||setTimeout(function(){return U(t.pZ.network)},1)},[T]),(0,q.useEffect)(function(){aa();var a=setInterval(function(){aa(!0)},t.h4);return function(){return clearInterval(a)}},[m,x,B,C,E]),aa=(_=(0,f.Z)(i().mark(function a(){var b,c,e,f,g,h,j,k,l=arguments;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b=l.length>0&& void 0!==l[0]&&l[0],!(!m.main||!m.base||C===d.MainToken&&0===Number(x)||C===d.BaseToken&&0===Number(B))){a.next=4;break}return X(Object.assign({},J,{pair:W.pair,fetched:W.fetched})),a.abrupt("return");case 4:if(!(!b&&m===Y&&C===d.MainToken&&x===Z||C===d.BaseToken&&B===$)){a.next=6;break}return a.abrupt("return");case 6:return a.next=8,K(m.main,m.base,S);case 8:return c=a.sent,a.next=11,M(c,m,x,B,C,S);case 11:f=(e=a.sent).poolPercentage,g=e.mainTokenPrice,h=e.baseTokenPrice,j=e.newMainTokenAmount,k=e.newBaseTokenAmount,X({pair:c,fetched:!0,mainTokenPrice:g?g.toSignificant(t.Jj):null,baseTokenPrice:h?h.toSignificant(t.Jj):null,newMainTokenAmount:j?j.toExact():"",newBaseTokenAmount:k?k.toExact():"",poolPercentage:f?f.toFixed(2):null,addLiquidity:ac});case 18:case"end":return a.stop()}},a)})),function(){return _.apply(this,arguments)}),ac=(ab=(0,f.Z)(i().mark(function a(b,c,d,e,f,g){var h,j,k,l,m,n,p,q,r,s,u,v;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(L&&H)){a.next=22;break}if(h=new o.Contract(t.o0,G,L.getSigner()),j=new(I())(d).shiftedBy(b.decimals),k=new(I())(e).shiftedBy(c.decimals),l=j.times(f.toString()).div("100"),m=k.times(f.toString()).div("100"),n=j.minus(l),p=k.minus(m),q="0x".concat((Math.floor(new Date().getTime()/1e3)+60*g).toString(16)),r=(0,w.FE)(n,b.decimals),s=(0,w.FE)(p,c.decimals),u=(0,w.FE)(j,b.decimals),v=(0,w.FE)(k,c.decimals),!(b.symbol===t.g4||c.symbol===t.g4)){a.next=19;break}return a.next=16,h.addLiquidityETH(b.symbol===t.g4?c.address:b.address,b.symbol===t.g4?v:u,b.symbol===t.g4?s:r,b.symbol===t.g4?r:s,H,q,{value:b.symbol===t.g4?u:v});case 16:case 21:return a.abrupt("return",a.sent);case 19:return a.next=21,h.addLiquidity(b.address,c.address,u,v,r,s,H,q);case 22:return a.abrupt("return",null);case 23:case"end":return a.stop()}},a)})),function(a,b,c,d,e,f){return ab.apply(this,arguments)}),W),aK=aJ.pair,aL=aJ.newMainTokenAmount,aM=aJ.newBaseTokenAmount,aN=aJ.poolPercentage,aO=aJ.fetched,aP=aJ.addLiquidity;(0,q.useEffect)(function(){aT()},[aK,aL,aM]),(0,q.useEffect)(function(){ai&&aj&&(aZ(am,"main"),aZ(ap,"base"))},[ad,ai,aj]),(0,q.useEffect)(function(){aZ(am,"main")},[am]),(0,q.useEffect)(function(){aZ(ap,"base")},[ap]);var aQ,aR,aS,aT=function(){aH===d.MainToken?aq(aM):aH===d.BaseToken&&an(aL)},aU=function(a){var b={main:a,base:ad.base};ae(b)},aV=function(a){var b={main:ad.main,base:a};ae(b)},aW=function(a,b){"main"===a?(aI(d.MainToken),an((0,w.QU)(b.target.value))):"base"===a&&(aI(d.BaseToken),aq((0,w.QU)(b.target.value)))},aX=function(a){if("main"===a&&ad.main){var b=aC(ad.main,aB);b&&(ad.main.symbol===t.g4&&(b=(0,w.vw)(b,ad.main.decimals)),aI(d.MainToken),an(b))}else if("base"===a&&ad.base){var c=aC(ad.base,aB);c&&(ad.base.symbol===t.g4&&(c=(0,w.vw)(c,ad.base.decimals)),aI(d.BaseToken),aq(c))}},aY=function(a){var b=(0,g.Z)(af.tokens).concat((0,g.Z)(ak));if(a.address===ad.main.address){var c,d,e,f=ad.base.symbol===t.g4&&(null===(e=ad.base)|| void 0===e?void 0:e.symbol)===t.F0.main||ad.base.address===t.F0.main?t.F0.base:t.F0.main;c=b.find(function(a){return a.symbol===t.g4?a.symbol===f:a.address===f}),d=ad.base}else{var h,i=ad.main.symbol===t.g4&&(null===(h=ad.main)|| void 0===h?void 0:h.symbol)===t.F0.base||ad.main.address===t.F0.base?t.F0.main:t.F0.base;d=b.find(function(a){return a.symbol===t.g4?a.symbol===i:a.address===i}),c=ad.main}ae({main:c,base:d}),af.setTokens(af.tokens.filter(function(b){return b.address!==a.address}))},aZ=(aQ=(0,f.Z)(i().mark(function a(b,c){var d,e,f,g;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b){a.next=7;break}if("main"!==c){a.next=5;break}return a.abrupt("return",az({main:!1,base:ay.base}));case 5:if("base"!==c){a.next=7;break}return a.abrupt("return",az({main:ay.main,base:!1}));case 7:if(d=ad[c],!(aj&&ai&&b&&ad.main&&ad.base&&d)){a.next=20;break}if(e=(0,w.ST)(b,d.decimals),d.symbol!==t.g4){a.next=15;break}return a.abrupt("return");case 15:return g=new o.Contract(d.address,z,aj),a.next=18,g.allowance(ai,t.o0);case 18:f=a.sent;case 19:f.lt(e)?"main"===c?az({main:!0,base:ay.base}):az({main:ay.main,base:!0}):"main"===c?az({main:!1,base:ay.base}):az({main:ay.main,base:!1});case 20:case"end":return a.stop()}},a)})),function(a,b){return aQ.apply(this,arguments)}),a$=(aR=(0,f.Z)(i().mark(function a(b){var c,d,e,f,g;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=ad[b],!(aj&&c)){a.next=27;break}if(d=Q.Am.loading("Approving ".concat(c.symbol," for deposit ...")),a.prev=3,aF(!0),e=p.O$.from(t.zL),c.symbol!==t.g4){a.next=11;break}return aF(!1),a.abrupt("return");case 11:return f=new o.Contract(c.address,z,aj.getSigner()),a.next=14,f.approve(t.o0,e);case 14:return g=a.sent,a.next=17,g.wait();case 17:"main"===b?az({main:!1,base:ay.base}):az({base:!1,main:ay.main}),Q.Am.update(d,{render:"Success",type:"success",isLoading:!1,autoClose:5e3}),a.next=24;break;case 21:a.prev=21,a.t0=a.catch(3),Q.Am.update(d,{render:"".concat(a.t0.message),type:"error",isLoading:!1,autoClose:5e3});case 24:return a.prev=24,aF(!1),a.finish(24);case 27:case"end":return a.stop()}},a,null,[[3,21,24,27]])})),function(a){return aR.apply(this,arguments)}),a_=(aS=(0,f.Z)(i().mark(function a(){var b,c,d,e;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=Q.Am.loading("Depositing ".concat(null===(b=ad.main)|| void 0===b?void 0:b.symbol," and ").concat(null===(c=ad.base)|| void 0===c?void 0:c.symbol,". Please confirm this transaction in your wallet.")),a.prev=2,aF(!0),a.next=6,aP(ad.main,ad.base,am,ap,af.slippage,af.transactionDeadline);case 6:e=a.sent,Q.Am.update(d,{render:"Transaction submitted",type:"success",isLoading:!1,autoClose:5e3}),Q.Am.promise(e.wait(),{pending:{render:function(){return(0,j.jsxs)("div",{children:["Waiting for transaction to be processed. View on"," ",(0,j.jsx)("a",{href:"https://explorer.dogechain.dog/tx/".concat(e.hash),target:"_blank",rel:"noreferrer",children:"DogeChain Explorer"})]})}},success:"Deposit successful",error:{render:function(a){var b=a.data;return(0,j.jsx)("div",{children:b.message})}}}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),Q.Am.update(d,{render:"".concat(a.t0.message),type:"error",isLoading:!1,autoClose:5e3});case 14:return a.prev=14,aF(!1),a.finish(14);case 17:case"end":return a.stop()}},a,null,[[2,11,14,17]])})),function(){return aS.apply(this,arguments)});return(0,j.jsxs)("div",{children:[ad.main&&ad.base&&!aK&&aO&&(0,j.jsxs)("div",{className:y().warningContainer,children:[(0,j.jsx)(r.SZZ,{className:y().warningIcon}),(0,j.jsx)("p",{children:"You are the first liquidity provider. The ratio of tokens you add will set the price of this pool. Once you are happy with the rate click supply to create the pool."})]}),(0,j.jsxs)("div",{className:y().inputsContainer,children:[(0,j.jsxs)("div",{className:y().inputContainer,children:[(0,j.jsxs)("button",{className:y().tokenSelectButton,onClick:function(){return at(!0)},children:[ad.main&&(0,j.jsx)("img",{className:y().tokenLogo,src:(0,v.VW)(ad.main),alt:"Token Logo"}),(0,j.jsx)("span",{className:y().tokenSymbol,children:ad.main?(0,w.H)(ad.main.symbol):"Select Token"}),(0,j.jsx)(r.CgR,{className:y().chevronDownIcon})]}),(0,j.jsx)("input",{className:y().tokenAmountInput,type:"text",spellCheck:"false",autoCorrect:"off",autoComplete:"off",inputMode:"decimal",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:"0.0",value:am,onChange:function(a){return aW("main",a)}}),(0,j.jsxs)("span",{className:y().tokenBalance,onClick:function(){return aX("main")},children:["Balance: ",aC(ad.main,aB)?(0,w.$G)(aC(ad.main,aB)):""]})]}),(0,j.jsx)("div",{className:y().plusIconContainer,children:(0,j.jsx)(r.xcL,{className:y().plusIcon})}),(0,j.jsxs)("div",{className:y().inputContainer,children:[(0,j.jsxs)("button",{className:y().tokenSelectButton,onClick:function(){return aw(!0)},children:[ad.base&&(0,j.jsx)("img",{className:y().tokenLogo,src:(0,v.VW)(ad.base),alt:"Token Logo"}),(0,j.jsx)("span",{className:y().tokenSymbol,children:ad.base?(0,w.H)(ad.base.symbol):"Select Token"}),(0,j.jsx)(r.CgR,{className:y().chevronDownIcon})]}),(0,j.jsx)("input",{className:y().tokenAmountInput,type:"text",spellCheck:"false",autoCorrect:"off",autoComplete:"off",inputMode:"decimal",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:"0.0",value:ap,onChange:function(a){return aW("base",a)}}),(0,j.jsxs)("span",{className:y().tokenBalance,onClick:function(){return aX("base")},children:["Balance: ",aC(ad.base,aB)?(0,w.$G)(aC(ad.base,aB)):""]})]})]}),!ai&&(0,j.jsx)(O.Z,{onClick:function(){return ag.setWalletOpen(!0)},children:"Connect Wallet"}),ai&&ad.main&&ay.main&&Number(am)<=Number(aC(ad.main,aB))&&(0,j.jsxs)(O.Z,{className:y().approveButton,onClick:function(){return a$("main")},disabled:aE,children:["Approve ",null===(b=ad.main)|| void 0===b?void 0:b.symbol]}),ai&&ad.base&&ay.base&&!ay.main&&Number(ap)<=Number(aC(ad.base,aB))&&(0,j.jsxs)(O.Z,{className:y().approveButton,onClick:function(){return a$("base")},disabled:aE,children:["Approve ",null===(c=ad.base)|| void 0===c?void 0:c.symbol]}),ai&&(0,j.jsxs)(O.Z,{disabled:!ad.main||!ad.base||!am||0===Number(am)||!ap||0===Number(ap)||ay.base||ay.main||Number(am)>Number(aC(ad.main,aB))||Number(ap)>Number(aC(ad.base,aB))||aE,onClick:function(){return a_()},children:[ad.main&&Number(am)>Number(aC(ad.main,aB))&&"Insufficient ".concat(ad.main.symbol," balance"),ad.base&&ad.main&&Number(ap)>Number(aC(ad.base,aB))&&Number(am)<=Number(aC(ad.main,aB))&&"Insufficient ".concat(ad.base.symbol," balance"),ad.main&&ad.base&&Number(am)<=Number(aC(ad.main,aB))&&Number(ap)<=Number(aC(ad.base,aB))&&"Add Liquidity"]}),aO&&ad.main&&ad.base&&(0,j.jsxs)("div",{className:y().footer,children:[(0,j.jsx)("div",{className:y().footerRow,children:(0,j.jsxs)("h5",{className:y().title,children:[aK&&"Prices and pool share",!aK&&"Initial prices and pool share"]})}),(0,j.jsxs)("div",{className:y().footerRow,children:[(0,j.jsxs)("span",{children:[null===(e=ad.base)|| void 0===e?void 0:e.symbol," per ",null===(h=ad.main)|| void 0===h?void 0:h.symbol]}),(0,j.jsx)("span",{children:ap&&am?parseFloat((Number(ap)/Number(am)).toPrecision(t.Jj)):"-"})]}),(0,j.jsxs)("div",{className:y().footerRow,children:[(0,j.jsxs)("span",{children:[null===(k=ad.main)|| void 0===k?void 0:k.symbol," per ",null===(l=ad.base)|| void 0===l?void 0:l.symbol]}),(0,j.jsx)("span",{children:ap&&am?parseFloat((Number(am)/Number(ap)).toPrecision(t.Jj)):"-"})]}),(0,j.jsxs)("div",{className:y().footerRow,children:[(0,j.jsx)("span",{children:"Your pool share"}),(0,j.jsxs)("span",{children:[aK?aN:"100"," %"]})]})]}),ad.main&&ad.base&&(0,j.jsx)(s.Z,{open:as,setOpen:at,disabledTokens:[ad.main,ad.base],onTokenSelect:aU,onUserTokenRemove:aY}),ad.main&&ad.base&&(0,j.jsx)(s.Z,{open:av,setOpen:aw,disabledTokens:[ad.main,ad.base],onTokenSelect:aV,onUserTokenRemove:aY})]})}var T=c(1889),U=c.n(T);function V(a){var b,c,d=a.tokens,e=(0,n.Ge)(),g=e.account,h=e.library,k=(0,n.Ge)(t.p5.mainNet.id.toString()),l=k.library,m=k.active,s=k.activate,u=(0,P.Z)(),x=(0,A.Z)(),y=(0,q.useState)(""),z=y[0],D=y[1],E=(0,q.useState)(""),F=E[0],H=E[1],J=(0,q.useState)(""),K=J[0],L=J[1],M=(0,q.useState)(""),N=M[0],R=M[1],S=(0,q.useState)(),T=S[0],V=S[1],W=(0,q.useState)(!1),X=W[0],Y=W[1],Z=(0,q.useState)(!1),$=Z[0],_=Z[1],aa=(0,q.useState)(!1),ab=(aa[0],aa[1]),ac=(0,q.useState)(!1),ad=ac[0],ae=ac[1];(0,q.useEffect)(function(){m||setTimeout(function(){return s(t.pZ.network)},1)},[m]),(0,q.useEffect)(function(){an();var a=setInterval(function(){return an()},t.h4);return function(){return clearInterval(a)}},[T,g,h]),(0,q.useEffect)(function(){ap();var a=setInterval(function(){return ap()},t.h4);return function(){return clearInterval(a)}},[d]),(0,q.useEffect)(function(){ar()},[z,T]),(0,q.useEffect)(function(){as()},[z]);var af,ag,ah,ai,aj,ak,al,am=function(a){D((0,w.QU)(a.target.value))},an=(af=(0,f.Z)(i().mark(function a(){var b,c,d;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(g&&h&&T)){a.next=7;break}return b=new o.Contract(T.liquidityToken.address,C,h),a.next=4,b.balanceOf(g);case 4:c=a.sent,H(d=(0,w.FM)(c,T.liquidityToken.decimals));case 7:case"end":return a.stop()}},a)})),function(){return af.apply(this,arguments)}),ao=function(){D(F)},ap=(ag=(0,f.Z)(i().mark(function a(){var b,c,e;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(d.main&&d.base&&l)){a.next=14;break}return b=(0,v.pu)(d.main),c=(0,v.pu)(d.base),a.prev=3,a.next=6,B.Fetcher.fetchPairData(b,c,l);case 6:V(e=a.sent),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(3),console.error(a.t0);case 13:_(!0);case 14:case"end":return a.stop()}},a,null,[[3,10]])})),function(){return ag.apply(this,arguments)}),aq=function(a){if(T&&F){var b=new(I())(F).shiftedBy(T.liquidityToken.decimals).times(a.toString());D(b.shiftedBy(-T.liquidityToken.decimals).toFixed(T.liquidityToken.decimals))}},ar=(ah=(0,f.Z)(i().mark(function a(){var b,c,e,f,g,h,j,k;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(0===Number(z)&&(Y(!1),L(""),R("")),!(d.main&&d.base&&T&&l&&Number(z)>0)){a.next=11;break}return b=(0,v.pu)(d.main),c=(0,v.pu)(d.base),e=new o.Contract(T.liquidityToken.address,C,l),a.next=7,e.totalSupply();case 7:f=a.sent,g=new B.TokenAmount(T.liquidityToken,f.toString()),h=new B.TokenAmount(T.liquidityToken,(0,w.bM)(z,T.liquidityToken.decimals).toString());try{j=T.getLiquidityValue(b,g,h),k=T.getLiquidityValue(c,g,h),L(j.toExact()),R(k.toExact()),Y(!1)}catch(i){Y(!0)}case 11:case"end":return a.stop()}},a)})),function(){return ah.apply(this,arguments)}),as=(ai=(0,f.Z)(i().mark(function a(){var b,c,d;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(T&&h&&Number(z)>0)){a.next=7;break}return b=(0,w.bM)(z,T.liquidityToken.decimals),c=new o.Contract(T.liquidityToken.address,C,h),a.next=5,c.allowance(g,t.o0);case 5:(d=a.sent).lt(b)?ae(!0):ae(!1);case 7:case"end":return a.stop()}},a)})),function(){return ai.apply(this,arguments)}),at=(aj=(0,f.Z)(i().mark(function a(){var b,c,e,f;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(h&&T&&d.main&&d.base)){a.next=21;break}return b=Q.Am.loading("Approving ".concat(d.main.symbol,"-").concat(d.base.symbol," LP Token for withdrawal ...")),a.prev=2,ab(!0),c=p.O$.from(t.zL),e=new o.Contract(T.liquidityToken.address,C,h.getSigner()),a.next=8,e.approve(t.o0,c);case 8:return f=a.sent,a.next=11,f.wait();case 11:ae(!1),Q.Am.update(b,{render:"Success",type:"success",isLoading:!1,autoClose:5e3}),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(2),Q.Am.update(b,{render:"".concat(a.t0.message),type:"error",isLoading:!1,autoClose:5e3});case 18:return a.prev=18,ab(!1),a.finish(18);case 21:case"end":return a.stop()}},a,null,[[2,15,18,21]])})),function(){return aj.apply(this,arguments)}),au=(ak=(0,f.Z)(i().mark(function a(){var b,c,e,f;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=Q.Am.loading("Removing liquidity for ".concat(null===(b=d.main)|| void 0===b?void 0:b.symbol,"/").concat(null===(c=d.base)|| void 0===c?void 0:c.symbol,". Please confirm this transaction in your wallet.")),a.prev=2,ab(!0),a.next=6,av();case 6:f=a.sent,Q.Am.update(e,{render:"Transaction submitted",type:"success",isLoading:!1,autoClose:5e3}),Q.Am.promise(f.wait(),{pending:{render:function(){return(0,j.jsxs)("div",{children:["Waiting for transaction to be processed. View on"," ",(0,j.jsx)("a",{href:"https://explorer.dogechain.dog/tx/".concat(f.hash),target:"_blank",rel:"noreferrer",children:"DogeChain Explorer"})]})}},success:"Withdrawal successful",error:{render:function(a){var b=a.data;return(0,j.jsx)("div",{children:b.message})}}}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),Q.Am.update(e,{render:"".concat(a.t0.message),type:"error",isLoading:!1,autoClose:5e3});case 14:return a.prev=14,ab(!1),a.finish(14);case 17:case"end":return a.stop()}},a,null,[[2,11,14,17]])})),function(){return ak.apply(this,arguments)}),av=(al=(0,f.Z)(i().mark(function a(){var b,c,e,f,j,k,l,m,n,p,q,r;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(T&&K&&N&&d.main&&d.base&&Number(z)>0)){a.next=22;break}if(b=new o.Contract(t.o0,G,h.getSigner()),c=new(I())(z).shiftedBy(null==T?void 0:T.liquidityToken.decimals),e=new(I())(K).shiftedBy(d.main.decimals),f=new(I())(N).shiftedBy(d.base.decimals),j=e.times(x.slippage.toString()).div("100"),k=f.times(x.slippage.toString()).div("100"),l=e.minus(j),m=f.minus(k),n="0x".concat((Math.floor(new Date().getTime()/1e3)+60*x.transactionDeadline).toString(16)),p=(0,w.FE)(c,T.liquidityToken.decimals),q=(0,w.FE)(l,d.main.decimals),r=(0,w.FE)(m,d.base.decimals),!(d.main.symbol===t.g4||d.base.symbol===t.g4)){a.next=19;break}return a.next=16,b.removeLiquidityETH(d.main.symbol===t.g4?d.base.address:d.main.address,p,d.main.symbol===t.g4?r:q,d.main.symbol===t.g4?q:r,g,n);case 16:case 21:return a.abrupt("return",a.sent);case 19:return a.next=21,b.removeLiquidity(d.main.address,d.base.address,p,q,r,g,n);case 22:return a.abrupt("return",null);case 23:case"end":return a.stop()}},a)})),function(){return al.apply(this,arguments)});return(0,j.jsxs)("div",{children:[T&&(0,j.jsxs)("div",{className:U().inputsContainer,children:[(0,j.jsxs)("div",{className:U().inputContainer,children:[(0,j.jsxs)("div",{className:U().pair,children:[d.main&&d.base&&(0,j.jsxs)("div",{className:U().tokenLogos,children:[(0,j.jsx)("img",{className:U().tokenLogo,src:(0,v.VW)(d.main),alt:"Token Logo"}),(0,j.jsx)("img",{className:U().tokenLogo,src:(0,v.VW)(d.base),alt:"Token Logo"})]}),(0,j.jsx)("span",{className:U().tokenSymbols,children:d.main&&d.base&&"".concat(d.main.symbol," / ").concat(d.base.symbol)})]}),(0,j.jsx)("input",{className:U().tokenAmountInput,type:"text",spellCheck:"false",autoCorrect:"off",autoComplete:"off",inputMode:"decimal",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:"0.0",value:z,onChange:function(a){return am(a)}}),(0,j.jsxs)("span",{className:U().tokenBalance,onClick:function(){return ao()},children:["Balance: ",F?(0,w.$G)(F):""]})]}),(0,j.jsx)("div",{className:U().setInputAmountButtons,children:[.25,.5,.75,1].map(function(a){return(0,j.jsx)("button",{className:U().setInputAmountButton,onClick:function(){return aq(a)},children:1===a?"Max":"".concat(100*a," %")},a)})}),(0,j.jsx)("div",{className:U().downArrowIconContainer,children:(0,j.jsx)(r.rEp,{className:U().downArrowIcon})}),(0,j.jsxs)("div",{className:U().tokensReceived,children:[(0,j.jsxs)("div",{className:U().token,children:[(0,j.jsx)("span",{className:U().symbol,children:null===(b=d.main)|| void 0===b?void 0:b.symbol}),(0,j.jsx)("span",{className:U().value,children:K||"-"})]}),(0,j.jsxs)("div",{className:U().token,children:[(0,j.jsx)("span",{className:U().symbol,children:null===(c=d.base)|| void 0===c?void 0:c.symbol}),(0,j.jsx)("span",{className:U().value,children:N||"-"})]})]}),ad&&(0,j.jsx)(O.Z,{className:U().allowanceButton,onClick:function(){return at()},children:"Approve LP token for withdrawal"}),(0,j.jsxs)(O.Z,{disabled:Boolean(g&&X||g&&ad||g&&0===Number(z)),onClick:g?function(){return au()}:function(){return u.setWalletOpen(!0)},children:[!X&&g&&"Remove Liquidity",X&&g&&"Insufficient Liquidity",!g&&"Connect Wallet"]})]}),!T&&$&&(0,j.jsx)("p",{className:U().notice,children:"This liquidity pool does not exist yet. You can create the pool by adding initial liquidity."})]})}var W,X=c(1163),Y=c(6371),Z=c(9738),$=c(4622);(W=e||(e={})).Add="add",W.Remove="remove";var _=function(){var a,b,c,d=(0,X.useRouter)(),h=(0,P.Z)(),l=(0,n.Ge)(t.p5.mainNet.id.toString()),o=l.library,p=l.active,r=l.activate,s=(0,u.Z)().defaultTokenList,w=(0,A.Z)(),x=(0,q.useState)(e.Add),y=x[0],z=x[1],B=(0,q.useState)({main:null,base:null}),C=B[0],D=B[1];(0,q.useEffect)(function(){h.setActivePage("liquidity")},[]),(0,q.useEffect)(function(){p||setTimeout(function(){return r(t.pZ.network)},1)},[p]),(0,q.useEffect)(function(){d.isReady&&s&&s.length>0&&F(d.query)},[d.isReady,s,o]),(0,q.useEffect)(function(){G()},[C]);var E,F=(c=(0,f.Z)(i().mark(function a(b){var c,d,e,f,h;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d=(c=(0,g.Z)(w.tokens).concat((0,g.Z)(s))).map(function(a){return a.symbol===t.g4?a.symbol.toLowerCase():a.address.toLowerCase()}),e=c.find(function(a){return a.symbol===t.g4?a.symbol.toLowerCase()===t.F0.main.toLowerCase():a.address.toLowerCase()===t.F0.main.toLowerCase()}),f=c.find(function(a){return a.symbol===t.g4?a.symbol.toLowerCase()===t.F0.base.toLowerCase():a.address.toLowerCase()===t.F0.base.toLowerCase()}),h=[],!(b.main&&d.includes(b.main.toString().toLowerCase()))){a.next=9;break}e=c.find(function(a){var c,d;return a.symbol===t.g4?a.symbol.toLowerCase()===(null===(c=b.main)|| void 0===c?void 0:c.toString().toLowerCase()):a.address.toLowerCase()===(null===(d=b.main)|| void 0===d?void 0:d.toString().toLowerCase())}),a.next=14;break;case 9:if(!(b.main&&(0,Y.getAddress)(b.main.toString()))){a.next=14;break}return a.next=12,H(b.main);case 12:e=a.sent,h.push(e);case 14:if(!(b.base&&d.includes(b.base.toString().toLowerCase()))){a.next=18;break}f=c.find(function(a){var c,d;return a.symbol===t.g4?a.symbol.toLowerCase()===(null===(c=b.base)|| void 0===c?void 0:c.toString().toLowerCase()):a.address.toLowerCase()===(null===(d=b.base)|| void 0===d?void 0:d.toString().toLowerCase())}),a.next=23;break;case 18:if(!(b.base&&(0,Y.getAddress)(b.base.toString()))){a.next=23;break}return a.next=21,H(b.base);case 21:f=a.sent,h.push(f);case 23:D({main:e,base:f});case 24:case"end":return a.stop()}},a)})),function(a){return c.apply(this,arguments)}),G=function(){if(C.main&&C.base){var a,b,c={};c.main=C.main.symbol===t.g4?null===(a=C.main.symbol)|| void 0===a?void 0:a.toLowerCase():C.main.address.toLowerCase(),c.base=C.base.symbol===t.g4?null===(b=C.base.symbol)|| void 0===b?void 0:b.toLowerCase():C.base.address.toLowerCase(),d.replace({pathname:d.pathname,query:c},void 0,{shallow:!0})}},H=(E=(0,f.Z)(i().mark(function a(b){var c;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.tC)(b,o);case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},a)})),function(a){return E.apply(this,arguments)});return(0,j.jsxs)(Z.Z,{children:[(0,j.jsx)($.Z,{title:"".concat(null===(a=C.main)|| void 0===a?void 0:a.symbol," / ").concat(null===(b=C.base)|| void 0===b?void 0:b.symbol," Liquidity")}),(0,j.jsxs)(k.Z,{className:m().liquidityCard,children:[(0,j.jsxs)("div",{className:m().header,children:[(0,j.jsx)("h4",{className:"".concat(m().title," ").concat(y===e.Add?m().active:""),onClick:function(){return z(e.Add)},children:"Add"}),(0,j.jsx)("h4",{className:"".concat(m().title," ").concat(y===e.Remove?m().active:""),onClick:function(){return z(e.Remove)},children:"Remove"})]}),y===e.Add&&(0,j.jsx)(S,{tokens:C,setTokens:D}),y===e.Remove&&(0,j.jsx)(V,{tokens:C})]})]})}},2267:function(a){a.exports={warningContainer:"add-liquidity-form_warningContainer__DUewx",warningIcon:"add-liquidity-form_warningIcon__5h5Yu",inputsContainer:"add-liquidity-form_inputsContainer__yJJwl",inputContainer:"add-liquidity-form_inputContainer__Nfrzl",tokenSelectButton:"add-liquidity-form_tokenSelectButton__o3565",chevronDownIcon:"add-liquidity-form_chevronDownIcon__WLC_S",tokenLogo:"add-liquidity-form_tokenLogo__VbyLA",tokenSymbol:"add-liquidity-form_tokenSymbol__fkwdy",tokenAmountInput:"add-liquidity-form_tokenAmountInput__gvEhV",tokenBalance:"add-liquidity-form_tokenBalance__IsEmr",plusIconContainer:"add-liquidity-form_plusIconContainer__KA_F_",footer:"add-liquidity-form_footer__I3HeG",footerRow:"add-liquidity-form_footerRow__Rr4uE",title:"add-liquidity-form_title__SieGN",settingsIcon:"add-liquidity-form_settingsIcon__cITBI",plusIcon:"add-liquidity-form_plusIcon__TWQKN",informationCircleIcon:"add-liquidity-form_informationCircleIcon__ZtAqT",approveButton:"add-liquidity-form_approveButton__IE0xH"}},10:function(a){a.exports={header:"page-header_header___4NnW",title:"page-header_title__hU2Dv",subTitle:"page-header_subTitle__qXKmv"}},1889:function(a){a.exports={inputsContainer:"remove-liquidity-form_inputsContainer__xp_1h",inputContainer:"remove-liquidity-form_inputContainer__Anlkh",pair:"remove-liquidity-form_pair__tqmYu",tokenLogos:"remove-liquidity-form_tokenLogos__CsWo_",tokenLogo:"remove-liquidity-form_tokenLogo__GayN6",tokenSymbols:"remove-liquidity-form_tokenSymbols__1Bl1s",tokenAmountInput:"remove-liquidity-form_tokenAmountInput__dB3zd",tokenBalance:"remove-liquidity-form_tokenBalance__tdroh",tokensReceived:"remove-liquidity-form_tokensReceived__gJ34J",token:"remove-liquidity-form_token__4P1YK",symbol:"remove-liquidity-form_symbol__nbgTI",setInputAmountButtons:"remove-liquidity-form_setInputAmountButtons__KYT_3",setInputAmountButton:"remove-liquidity-form_setInputAmountButton__jb_VP",notice:"remove-liquidity-form_notice__K8LFf",allowanceButton:"remove-liquidity-form_allowanceButton__Xi5yh",downArrowIconContainer:"remove-liquidity-form_downArrowIconContainer__liN8O",downArrowIcon:"remove-liquidity-form_downArrowIcon__RCmkv"}},4148:function(a){a.exports={liquidityCard:"liquidity-pool_liquidityCard__GdidA",header:"liquidity-pool_header___rK2I",title:"liquidity-pool_title__7rvPO",active:"liquidity-pool_active___2rKO"}}},function(a){a.O(0,[595,431,492,468,774,888,179],function(){var b;return a(a.s=5155)}),_N_E=a.O()}])