(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[503],{8229:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swap",function(){return c(6405)}])},4483:function(a,b,c){"use strict";c.d(b,{Z:function(){return k}});var d=c(7568),e=c(4051),f=c.n(e),g=c(5893),h=c(7294),i=c(782),j=c(388);function k(){var a,b=(0,h.useState)(!1),c=b[0],e=b[1],k=(a=(0,d.Z)(f().mark(function a(b){var c,d,h,k,l,m,n,o,p,q,r,s,t;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.txFunc,d=b.loadingMessage,h=b.successMessage,k=b.submitMessage,l=void 0===k?"Transaction submitted":k,m=b.onSubmit,n=b.onSuccess,o=b.onError,p=i.Am.loading(d),a.prev=2,e(!0),a.next=6,c();case 6:return q=a.sent,m&&m(),i.Am.update(p,{render:l,type:"success",isLoading:!1,autoClose:5e3,closeButton:!0}),r=i.Am.loading((0,g.jsxs)("div",{children:["Waiting for transaction to be processed ...",(0,g.jsx)("br",{}),"View status on"," ",(0,g.jsx)("a",{href:"".concat(j.p5.mainNet.blockExplorerUrl,"tx/").concat(q.hash),target:"_blank",rel:"noreferrer",children:"DogeChain Explorer"})]})),a.prev=10,a.next=13,q.wait();case 13:n&&n(),i.Am.update(r,{render:h,type:"success",isLoading:!1,autoClose:5e3,closeButton:!0}),a.next=22;break;case 17:a.prev=17,a.t0=a.catch(10),o&&o(),s=a.t0.error&&a.t0.error.data?a.t0.error.data.message:a.t0.message,i.Am.update(r,{render:s,type:"error",isLoading:!1,autoClose:5e3,closeButton:!0});case 22:a.next=29;break;case 24:a.prev=24,a.t1=a.catch(2),o&&o(),t=a.t1.error&&a.t1.error.data?a.t1.error.data.message:a.t1.message,i.Am.update(p,{render:t,type:"error",isLoading:!1,autoClose:5e3,closeButton:!0});case 29:return a.prev=29,e(!1),a.finish(29);case 32:case"end":return a.stop()}},a,null,[[2,24,29,32],[10,17]])})),function(b){return a.apply(this,arguments)});return{txPending:c,executeTxWithToast:k}}},6405:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return ac}});var d,e,f,g=c(7568),h=c(9815),i=c(4051),j=c.n(i),k=c(5893),l=c(1163),m=c(7294),n=c(155),o=c(6616),p=c(4710),q=c.n(p),r=c(6766),s=c(1769),t=c(388),u=c(7044),v=c(6449),w=c(2593),x=c(4146),y=c(6473),z=c(9245),A=c(2670),B=c(6042),C=c(828);(f=d||(d={})).ExactInput="exactInput",f.ExactOutput="exactOutput";var D=c(8102),E=c(4926),F=c(9380),G=JSON.parse('[{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall.Call[]","name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes[]","name":"returnData","type":"bytes[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"name":"getBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockCoinbase","outputs":[{"internalType":"address","name":"coinbase","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockDifficulty","outputs":[{"internalType":"uint256","name":"difficulty","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockGasLimit","outputs":[{"internalType":"uint256","name":"gaslimit","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockTimestamp","outputs":[{"internalType":"uint256","name":"timestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLastBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"}]'),H=c(6371),I=c(1438),J=c(8197),K=c(9251),L=c(4243),M=function(){function a(){(0,I.Z)(this,a)}return a.encode=function(a,b,c){var d=N(a,b),e=J.keccak256(K.Y0(d)).substring(2,10),f=new L.R().encode(b,c).substring(2);return"0x".concat(e).concat(f)},a.decode=function(a,b){var c=new L.R;return"0x"===b?null:c.decode(a,b)},a}();function N(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=b[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;if("tuple"===i.type){var j=N("",i.components);c.push(j);continue}if("tuple[]"===i.type){var k=N("",i.components),l="".concat(k,"[]");c.push(l);continue}c.push(i.type)}}catch(m){e=!0,f=m}finally{try{d||null==h.return||h.return()}finally{if(e)throw f}}var n=c.join(",");return"".concat(a,"(").concat(n,")")}var O,P=c(8295),Q=c(4431),R=c.n(Q);(O=e||(e={})).None="none",O.Wrap="wrap",O.Unwrap="unwrap";var S={midPrice:null,executionPrice:null,priceImpact:null,fee:null,minReceived:null,maxSold:null,estimatedInputAmount:null,estimatedOutputAmount:null,trade:null,insufficientLiquidity:!1,wrapType:e.None,executeSwap:(0,g.Z)(j().mark(function a(){return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:case"end":return a.stop()}},a)})),executeWrapOrUnwrap:(0,g.Z)(j().mark(function a(){return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:case"end":return a.stop()}},a)}))},T=c(7183),U=c(4305),V=c(4020);function W(a){var b=a.walletActive,c=a.inputAmount,f=a.outputAmount,g=a.estimatedInputAmount,h=a.balances,i=a.tokens,j=a.swapType,l=a.wrapType,m=a.insufficientAllowance,n=a.txPending,o=a.insufficientLiquidity,p=a.executeSwapHandler,q=a.increaseAllowanceHandler,r=(0,U.Z)(),s=(0,T.Z)(i).getBalance;if(!b||!i.from||!i.to)return(0,k.jsx)(V.Z,{variant:"primary",onClick:function(){return r.setWalletOpen(!0)},children:"Connect Wallet"});var t=!1,u=!0;return j===d.ExactInput?(t=Number(c)>Number(s(i.from,h)),u=0===Number(c)):j===d.ExactOutput&&(t=Number(g)>Number(s(i.from,h)),u=0===Number(f)),(0,k.jsxs)(V.Z,{variant:"primary",disabled:!c&&!f||t||n&&m||u||o,onClick:m?function(){return q()}:function(){return p()},children:[u&&"Enter an amount",c&&t&&!o&&"Insufficient ".concat(i.from.symbol," balance"),(c||f)&&o&&"Insufficient liquidity",!u&&!t&&!m&&!o&&(l===e.None?"Swap":l===e.Wrap?"Wrap":"Unwrap"),m&&!t&&!o&&"Approve ".concat(i.from.symbol," for trade")]})}var X=c(3310),Y=c(8735),Z=c(5121),$=c.n(Z);function _(a){var b=a.priceImpact;return b&&1>Number(b)?(0,k.jsx)("span",{children:(0,k.jsx)("b",{className:$().ok,children:.01>Number(b)?"< 0.01 %":"".concat(Number(b).toFixed(2)," %")})}):b&&5>Number(b)?(0,k.jsx)("span",{children:(0,k.jsx)("b",{className:$().medium,children:"".concat(Number(b).toFixed(2)," %")})}):b&&Number(b)>=5?(0,k.jsx)("span",{children:(0,k.jsx)("b",{className:$().warn,children:"".concat(Number(b).toFixed(2)," %")})}):(0,k.jsx)("span",{children:(0,k.jsx)("b",{children:"-"})})}var aa=c(4483),ab=c(9738),ac=function(){var a,b,c,f,i,p,I,J,K,L,N,O,Q,V,Z,$,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao=(0,U.Z)(),ap=(0,X.Z)(),aq=(0,l.useRouter)(),ar=(0,u.Ge)(),as=ar.account,at=ar.library,au=ar.active,av=(0,u.Ge)(t.p5.mainNet.id.toString()),aw=av.library,ax=av.active,ay=av.activate,az=(0,aa.Z)(),aA=az.txPending,aB=az.executeTxWithToast,aC=(0,m.useState)({from:null,to:null}),aD=aC[0],aE=aC[1],aF=(0,T.Z)(aD),aG=aF.balances,aH=aF.getBalance,aI=(0,m.useState)(""),aJ=aI[0],aK=aI[1],aL=(0,m.useState)(""),aM=aL[0],aN=aL[1],aO=(0,m.useState)(d.ExactInput),aP=aO[0],aQ=aO[1],aR=(0,m.useState)(!1),aS=aR[0],aT=aR[1],aU=(0,m.useState)(!1),aV=aU[0],aW=aU[1],aX=(0,m.useState)(!1),aY=aX[0],aZ=aX[1],a$=(0,s.Z)().defaultTokenList,a_=(a=aD,b=aJ,c=aM,f=aP,i=ap.slippage,p=ap.disableMultihops,I=(0,u.Ge)(),J=I.account,K=I.library,L=(0,u.Ge)(t.p5.mainNet.id.toString()),N=L.library,O=L.active,Q=L.activate,V=(0,m.useState)(S),Z=V[0],$=V[1],(0,m.useEffect)(function(){O||setTimeout(function(){return Q(t.pZ.network)},1)},[O]),(0,m.useEffect)(function(){ad();var a=setInterval(function(){ad()},6e3);return function(){return clearInterval(a)}},[a,b,c,f,i,p,J]),ad=(ac=(0,g.Z)(j().mark(function g(){var h,k,l,m,n,o,p,q,r;return j().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(!a.from||!a.to||f===d.ExactInput&&0===Number(b)||f===d.ExactOutput&&0===Number(c))){g.next=2;break}return g.abrupt("return",$(S));case 2:if(!("WWDOGE"===a.from.symbol&&a.to.symbol===t.g4||a.from.symbol===t.g4&&"WWDOGE"===a.to.symbol)){g.next=4;break}return g.abrupt("return",ag(a.from,a.to));case 4:return g.next=6,ai(a.from,a.to);case 6:if(0!==(h=g.sent).length){g.next=9;break}return g.abrupt("return",$(Object.assign({},S,{insufficientLiquidity:!0})));case 9:l=(k=aj(h,a.from,a.to)).bestTrade,m=k.estimatedInputAmount,n=k.estimatedOutputAmount,l?(o=new D.Percent((100*i).toString(),"10000"),p=ae(l),q=af(b,a.from,p),r=Number(l.priceImpact.toSignificant(t.Jj))-100*p,$({midPrice:l.executionPrice.toSignificant(t.Jj),executionPrice:l.executionPrice.toSignificant(t.Jj),priceImpact:r.toString(),fee:q,minReceived:l.minimumAmountOut(o).toSignificant(t.Jj),maxSold:l.maximumAmountIn(o).toSignificant(t.Jj),estimatedInputAmount:m,estimatedOutputAmount:n,executeSwap:an,executeWrapOrUnwrap:al,insufficientLiquidity:!1,trade:l,wrapType:e.None})):$(Object.assign({},S,{insufficientLiquidity:!0}));case 11:case"end":return g.stop()}},g)})),function(){return ac.apply(this,arguments)}),ae=function(a){return a.route.pairs.reduce(function(a){return a+t.to/100+a*(t.to/100)},0)},af=function(a,b,c){return new(R())(a).shiftedBy(b.decimals).multipliedBy(c).shiftedBy(-b.decimals).toFixed()},ag=function(a,g){var h=a.symbol===t.g4?e.Wrap:e.Unwrap;f===d.ExactInput?$(Object.assign({},S,{midPrice:"1",executionPrice:"1",minReceived:b,maxSold:b,estimatedOutputAmount:b,wrapType:h,executeSwap:an,executeWrapOrUnwrap:al})):f===d.ExactOutput&&$(Object.assign({},S,{midPrice:"1",executionPrice:"1",minReceived:c,maxSold:c,estimatedInputAmount:c,wrapType:h,executeSwap:an,executeWrapOrUnwrap:al}))},ai=(ah=(0,g.Z)(j().mark(function a(b,c){var d,e,f,g,i,k,l,m,n,o,p,q,r,s;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=(0,z.pu)(b),e=(0,z.pu)(c),f=t.IG.flatMap(function(a){return t.IG.map(function(b){return[a,b]})}),g=[[d,e]].concat((0,h.Z)(t.IG.map(function(a){return[d,a]})),(0,h.Z)(t.IG.map(function(a){return[e,a]})),(0,h.Z)(f)).filter(function(a){var b=(0,C.Z)(a,2),c=b[0],d=b[1];return c.address!==d.address}),i={},k=g.filter(function(a){var b=(0,C.Z)(a,2),c=b[0],d=b[1],e="".concat(c.address,"-").concat(d.address),f="".concat(d.address,"-").concat(c.address);return!i[e]&&!i[f]&&(i[e]=!0)}),l=k.map(function(a){return D.Pair.getAddress(a[0],a[1])}),m=new H.Interface(F),n=m.getFunction("getReserves"),o=new x.Contract(t.bh,G,N),p=M.encode(n.name,n.inputs,[]),q=l.map(function(a){return{target:a,callData:p}}),a.next=14,o.aggregate(q);case 14:return s=(r=a.sent).returnData.map(function(a,b){var c=M.decode(n.outputs,a);if(!c)return null;var d=k[b][0],e=k[b][1],f=(0,C.Z)(d.sortsBefore(e)?[d,e]:[e,d],2),g=f[0],h=f[1],i=new D.Pair(new D.TokenAmount(g,c._reserve0.toString()),new D.TokenAmount(h,c._reserve1.toString()));return i}).filter(function(a){return null!==a}),a.abrupt("return",s);case 17:case"end":return a.stop()}},a)})),function(a,b){return ah.apply(this,arguments)}),aj=function(a,e,g){var h,i=e===D.ETHER?D.ETHER:e,j=g===D.ETHER?D.ETHER:g,k=null,l=null,m=p?1:3,n=p?1:3;if(f===d.ExactInput){var o=(0,y.ST)(b,i.decimals).toString(),q=(0,A.Z)(i,P.W)?new D.TokenAmount(i,D.JSBI.BigInt(o)):D.CurrencyAmount.ether(D.JSBI.BigInt(o));h=D.Trade.bestTradeExactIn(a,q,j,{maxNumResults:m,maxHops:n})}else if(f===d.ExactOutput){var r=(0,y.ST)(c,j.decimals).toString(),s=(0,A.Z)(j,P.W)?new D.TokenAmount(j,D.JSBI.BigInt(r)):D.CurrencyAmount.ether(D.JSBI.BigInt(r));h=D.Trade.bestTradeExactOut(a,i,s,{maxNumResults:m,maxHops:n})}return h&&h.length>0&&(l=h[0].outputAmount.toSignificant(t.Jj),k=h[0].inputAmount.toSignificant(t.Jj)),{bestTrade:h&&h.length>0?h[0]:null,estimatedInputAmount:k,estimatedOutputAmount:l}},al=(ak=(0,g.Z)(j().mark(function a(b,c,d,f){var g,h,i,k;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(K&&J)){a.next=15;break}if(!(b===e.Wrap&&f.to.symbol!==t.g4)){a.next=9;break}return g=new x.Contract(f.to.address,v,K.getSigner()),h=(0,y.bM)(c,f.to.decimals),a.next=6,g.deposit({from:J,value:h,gasPrice:t.Q0});case 6:case 14:return a.abrupt("return",a.sent);case 9:if(!(b===e.Unwrap&&f.from.symbol!==t.g4)){a.next=15;break}return i=new x.Contract(f.from.address,v,K.getSigner()),k=(0,y.bM)(c,f.from.decimals),a.next=14,i.withdraw(k,{gasPrice:t.Q0});case 15:case"end":return a.stop()}},a)})),function(a,b,c,d){return ak.apply(this,arguments)}),an=(am=(0,g.Z)(j().mark(function a(b,c,d){var e,f,i,k,l,m,n;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(K&&J)){a.next=15;break}if(f=new x.Contract(t.o0,E,K.getSigner()),i=new D.Percent((100*c).toString(),"10000"),!("sKIB"===b.route.input.symbol||"sKIB"===b.route.output.symbol)){a.next=6;break}throw Error("Swap not allowed");case 6:return k=[D.Router.swapCallParameters(b,{allowedSlippage:i,recipient:J,feeOnTransfer:!1,ttl:d}),D.Router.swapCallParameters(b,{allowedSlippage:i,recipient:J,feeOnTransfer:b.tradeType!==D.TradeType.EXACT_OUTPUT,ttl:d})],a.next=9,Promise.all(k.map(function(){var a=(0,g.Z)(j().mark(function a(b){var c,d;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=4,(c=f.estimateGas)[b.methodName].apply(c,(0,h.Z)(b.args).concat([(0,B.Z)({},b.value&&!(0,y.ZP)(b.value)?{value:b.value,from:J}:{from:J})]));case 4:return d=a.sent,a.abrupt("return",{call:b,gasEstimate:d});case 8:return a.prev=8,a.t0=a.catch(0),console.error(a.t0),a.abrupt("return",{call:b,error:a.t0});case 12:case"end":return a.stop()}},a,null,[[0,8]])}));return function(b){return a.apply(this,arguments)}}()));case 9:if(-1!==(m=(l=a.sent).findIndex(function(a){return!a.error&&R().isBigNumber(a.gasEstimate)}))){a.next=13;break}throw Error("There is an error with the token you are trying to swap. If this token has a trading tax, you might have to increase slippage. There also could be a max. TX size or wallet size.");case 13:return n=k[m].value,a.abrupt("return",(e=f)[k[m].methodName].apply(e,(0,h.Z)(k[m].args).concat([(0,B.Z)({gasLimit:(0,y.yC)(l[m].gasEstimate),gasPrice:t.Q0},n&&!(0,y.ZP)(n)?{value:n,from:J}:{from:J})])));case 15:case"end":return a.stop()}},a)})),function(a,b,c){return am.apply(this,arguments)}),Z),a0=a_.midPrice,a1=a_.executionPrice,a2=a_.priceImpact,a3=a_.fee,a4=a_.minReceived,a5=a_.maxSold,a6=a_.trade,a7=a_.estimatedOutputAmount,a8=a_.estimatedInputAmount,a9=a_.insufficientLiquidity,ba=a_.wrapType,bb=a_.executeSwap,bc=a_.executeWrapOrUnwrap;(0,m.useEffect)(function(){Y.Z.rebuild()}),(0,m.useEffect)(function(){ao.setActivePage("swap")},[]),(0,m.useEffect)(function(){ax||setTimeout(function(){return ay(t.pZ.network)},1)},[ax]),(0,m.useEffect)(function(){aq.isReady&&a$&&a$.length>0&&bk(aq.query)},[aq.isReady,a$,aw]),(0,m.useEffect)(function(){bi()},[a1,a4,a5]),(0,m.useEffect)(function(){bu(aJ)},[aJ]);var bd,be,bf,bg,bh,bi=function(){aP===d.ExactInput?aN(a7||""):aP===d.ExactOutput&&aK(a8||"")},bj=(bd=(0,g.Z)(j().mark(function a(b){var c;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,z.tC)(b,aw);case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},a)})),function(a){return bd.apply(this,arguments)}),bk=(be=(0,g.Z)(j().mark(function a(b){var c,d,e,f,g;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d=(c=(0,h.Z)(ap.tokens).concat((0,h.Z)(a$))).map(function(a){return a.symbol===t.g4?a.symbol.toLowerCase():a.address.toLowerCase()}),e=c.find(function(a){return a.symbol===t.g4?a.symbol.toLowerCase()===t.oL.from.toLowerCase():a.address.toLowerCase()===t.oL.from.toLowerCase()}),f=c.find(function(a){return a.symbol===t.g4?a.symbol.toLowerCase()===t.oL.to.toLowerCase():a.address.toLowerCase()===t.oL.to.toLowerCase()}),g=[],!(b.from&&d.includes(b.from.toString().toLowerCase()))){a.next=9;break}e=c.find(function(a){var c,d;return a.symbol===t.g4?a.symbol.toLowerCase()===(null===(c=b.from)|| void 0===c?void 0:c.toString().toLowerCase()):a.address.toLowerCase()===(null===(d=b.from)|| void 0===d?void 0:d.toString().toLowerCase())}),a.next=14;break;case 9:if(!(b.from&&(0,H.getAddress)(b.from.toString()))){a.next=14;break}return a.next=12,bj(b.from);case 12:e=a.sent,g.push(e);case 14:if(!(b.to&&d.includes(b.to.toString().toLowerCase()))){a.next=18;break}f=c.find(function(a){var c,d;return a.symbol===t.g4?a.symbol.toLowerCase()===(null===(c=b.to)|| void 0===c?void 0:c.toString().toLowerCase()):a.address.toLowerCase()===(null===(d=b.to)|| void 0===d?void 0:d.toString().toLowerCase())}),a.next=23;break;case 18:if(!(b.to&&(0,H.getAddress)(b.to.toString()))){a.next=23;break}return a.next=21,bj(b.to);case 21:f=a.sent,g.push(f);case 23:aE({from:e,to:f});case 24:case"end":return a.stop()}},a)})),function(a){return be.apply(this,arguments)}),bl=function(a){if(a.from&&a.to){var b,c,d={};d.from=a.from.symbol===t.g4?null===(b=a.from.symbol)|| void 0===b?void 0:b.toLowerCase():a.from.address.toLowerCase(),d.to=a.to.symbol===t.g4?null===(c=a.to.symbol)|| void 0===c?void 0:c.toLowerCase():a.to.address.toLowerCase(),aq.replace({pathname:aq.pathname,query:d},void 0,{shallow:!0})}},bm=function(){var a={from:aD.to,to:aD.from};bl(a),aE(a),aP===d.ExactInput?(aN(aJ),aQ(d.ExactOutput)):aP===d.ExactOutput&&(aK(aM),aQ(d.ExactInput))},bn=function(a){var b=(0,h.Z)(ap.tokens).concat((0,h.Z)(a$));if(a.address===aD.from.address){var c,d,e,f=aD.to.symbol===t.g4&&(null===(e=aD.to)|| void 0===e?void 0:e.symbol)===t.oL.from||aD.to.address===t.oL.from?t.oL.to:t.oL.from;c=b.find(function(a){return a.symbol===t.g4?a.symbol===f:a.address===f}),d=aD.to}else{var g,i=aD.from.symbol===t.g4&&(null===(g=aD.from)|| void 0===g?void 0:g.symbol)===t.oL.to||aD.from.address===t.oL.to?t.oL.from:t.oL.to;d=b.find(function(a){return a.symbol===t.g4?a.symbol===i:a.address===i}),c=aD.from}bl({from:c,to:d}),aE({from:c,to:d}),ap.setTokens(ap.tokens.filter(function(b){return b.address!==a.address}))},bo=function(a){var b={from:a,to:aD.to};bl(b),aE(b)},bp=function(a){var b={from:aD.from,to:a};bl(b),aE(b)},bq=function(a){aK((0,y.QU)(a.target.value)),aQ(d.ExactInput)},br=function(a){aN((0,y.QU)(a.target.value)),aQ(d.ExactOutput)},bs=(bf=(0,g.Z)(j().mark(function a(){var b,c,d,f,g,h,i,k;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:ba===e.None?aB({txFunc:function(){return bb(a6,ap.slippage,60*ap.transactionDeadline)},loadingMessage:"Swapping ".concat(aJ," ").concat(null===(b=aD.from)|| void 0===b?void 0:b.symbol," to ").concat(aM," ").concat(null===(c=aD.to)|| void 0===c?void 0:c.symbol,". Please confirm this transaction in your wallet."),successMessage:"Successfully swapped ".concat(null===(d=aD.from)|| void 0===d?void 0:d.symbol," to ").concat(null===(f=aD.to)|| void 0===f?void 0:f.symbol,".")}):(ba===e.Unwrap||ba===e.Wrap)&&aB({txFunc:function(){return bc(ba,aJ,aM,aD)},loadingMessage:"Swapping ".concat(aJ," ").concat(null===(g=aD.from)|| void 0===g?void 0:g.symbol," to ").concat(aM," ").concat(null===(h=aD.to)|| void 0===h?void 0:h.symbol,". Please confirm this transaction in your wallet."),successMessage:"Successfully swapped ".concat(null===(i=aD.from)|| void 0===i?void 0:i.symbol," to ").concat(null===(k=aD.to)|| void 0===k?void 0:k.symbol,".")});case 1:case"end":return a.stop()}},a)})),function(){return bf.apply(this,arguments)}),bt=(bg=(0,g.Z)(j().mark(function a(){var b;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:at&&aD.from&&(b=w.O$.from(t.zL),aD.from.symbol===t.g4?aB({txFunc:function(){return at.approve(t.o0,b)},loadingMessage:"Approving ".concat(aD.from.symbol," for trade on Kibble. Please confirm this transaction in your wallet."),successMessage:"Successfully approved ".concat(aD.from.symbol,"."),onSuccess:function(){return aT(!1)}}):aB({txFunc:function(){return new x.Contract(aD.from.address,v,at.getSigner()).approve(t.o0,b)},loadingMessage:"Approving ".concat(aD.from.symbol," for trade on Kibble. Please confirm this transaction in your wallet."),successMessage:"Successfully approved ".concat(aD.from.symbol,"."),onSuccess:function(){return aT(!1)}}));case 1:case"end":return a.stop()}},a)})),function(){return bg.apply(this,arguments)}),bu=(bh=(0,g.Z)(j().mark(function a(b){var c,d,e;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b||aT(!1),!(at&&as&&aD.from&&b)){a.next=15;break}if(c=(0,y.bM)(b,aD.from.decimals),aD.from.symbol!==t.g4){a.next=10;break}return a.next=7,at.getBalance(as);case 7:d=a.sent,a.next=14;break;case 10:return e=new x.Contract(aD.from.address,v,at),a.next=13,e.allowance(as,t.o0);case 13:d=a.sent;case 14:d.lt(c)?aT(!0):aT(!1);case 15:case"end":return a.stop()}},a)})),function(a){return bh.apply(this,arguments)}),bv=function(a){if("from"===a&&aD.from){var b=aH(aD.from,aG);b&&(aD.from.symbol===t.g4&&(b=(0,y.vw)(b,aD.from.decimals)),aQ(d.ExactInput),aK(b))}else if("to"===a&&aD.to){var c=aH(aD.to,aG);c&&(aD.to.symbol===t.g4&&(c=(0,y.vw)(c,aD.to.decimals)),aQ(d.ExactOutput),aN(c))}};return(0,k.jsxs)(ab.Z,{children:[(0,k.jsx)("div",{className:q().mascot}),(0,k.jsxs)(o.Z,{className:q().swapCard,children:[(0,k.jsxs)("div",{className:q().header,children:[(0,k.jsx)("div",{}),(0,k.jsx)("h4",{className:q().title,children:"Swap"}),(0,k.jsxs)("button",{className:q().settingsButton,onClick:function(){return ao.setSettingsOpen(!0)},children:[(0,k.jsxs)("span",{className:q().slippageValue,children:["Slippage: ",(0,k.jsxs)("b",{children:[ap.slippage," %"]})]}),(0,k.jsx)(n.Fuo,{className:q().settingsIcon})]})]}),(0,k.jsxs)("div",{className:q().inputsContainer,children:[(0,k.jsxs)("div",{className:q().inputContainer,children:[(0,k.jsxs)("button",{className:q().tokenSelectButton,onClick:function(){return aW(!0)},children:[aD.from&&(0,k.jsx)("img",{className:q().tokenLogo,src:(0,z.VW)(aD.from),alt:"Token Logo"}),(0,k.jsx)("span",{className:q().tokenSymbol,children:aD.from?(0,y.H)(aD.from.symbol):"Select Token"}),(0,k.jsx)(n.CgR,{className:q().chevronDownIcon})]}),(0,k.jsx)("input",{className:q().tokenAmountInput,type:"text",spellCheck:"false",autoCorrect:"off",autoComplete:"off",inputMode:"decimal",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:"0.0",value:aJ,onChange:bq}),(0,k.jsxs)("span",{className:q().tokenBalance,onClick:function(){return bv("from")},children:["Balance: ",aH(aD.from,aG)?(0,y.$G)(aH(aD.from,aG)):""]})]}),(0,k.jsx)("button",{className:"".concat(q().swapInputsButton," ").concat(aP===d.ExactOutput?q().flip:""),onClick:function(){return bm()},children:(0,k.jsx)(n.rEp,{className:q().swapInputsIcon})}),(0,k.jsxs)("div",{className:q().inputContainer,children:[(0,k.jsxs)("button",{className:q().tokenSelectButton,onClick:function(){return aZ(!0)},children:[aD.to&&(0,k.jsx)("img",{className:q().tokenLogo,src:(0,z.VW)(aD.to),alt:"Token Logo"}),(0,k.jsx)("span",{className:q().tokenSymbol,children:aD.to?(0,y.H)(aD.to.symbol):"Select Token"}),(0,k.jsx)(n.CgR,{className:q().chevronDownIcon})]}),(0,k.jsx)("input",{className:q().tokenAmountInput,type:"text",spellCheck:"false",autoCorrect:"off",autoComplete:"off",inputMode:"decimal",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:"0.0",value:aM,onChange:br}),(0,k.jsxs)("span",{className:q().tokenBalance,onClick:function(){return bv("to")},children:["Balance: ",aH(aD.to,aG)?(0,y.$G)(aH(aD.to,aG)):""]})]})]}),(0,k.jsx)(W,{walletActive:au,inputAmount:aJ,outputAmount:aM,estimatedInputAmount:a8,balances:aG,tokens:aD,swapType:aP,wrapType:ba,insufficientAllowance:aS,txPending:aA,insufficientLiquidity:a9,executeSwapHandler:bs,increaseAllowanceHandler:bt}),(0,k.jsxs)("div",{className:q().footer,children:[(0,k.jsxs)("div",{className:q().footerRow,children:[(0,k.jsx)("span",{children:"Price"}),(0,k.jsx)("span",{children:aD.from&&aD.to&&a0?"1 ".concat(aD.from.symbol," = ").concat(a0," ").concat(aD.to.symbol):"-"})]}),(0,k.jsxs)("div",{className:q().footerRow,children:[(0,k.jsxs)("span",{children:["Price Impact",(0,k.jsx)(n.ib5,{className:q().informationCircleIcon,"data-tip":"The difference between the market price<br />and estimated price due to trade size."})]}),(0,k.jsx)(_,{priceImpact:a2})]}),a4&&aD.to&&aP==d.ExactInput&&(0,k.jsxs)("div",{className:q().footerRow,children:[(0,k.jsxs)("span",{children:["Minimum Received",(0,k.jsx)(n.ib5,{className:q().informationCircleIcon,"data-tip":"Your transaction will revert if there is a large,<br />unfavorable price movement before it is confirmed."})]}),(0,k.jsx)("span",{children:"".concat(a4," ").concat(aD.to.symbol)})]}),a5&&aD.from&&aP==d.ExactOutput&&(0,k.jsxs)("div",{className:q().footerRow,children:[(0,k.jsxs)("span",{children:["Maximum Sold",(0,k.jsx)(n.ib5,{className:q().informationCircleIcon,"data-tip":"Your transaction will revert if there is a large,<br />unfavorable price movement before it is confirmed."})]}),(0,k.jsx)("span",{children:"".concat(a5," ").concat(aD.from.symbol)})]}),(0,k.jsxs)("div",{className:q().footerRow,children:[(0,k.jsxs)("span",{children:["Liquidity Provider Fee",(0,k.jsx)(n.ib5,{className:q().informationCircleIcon,"data-tip":"For each trade a ".concat(t.to,"% fee is paid")})]}),(0,k.jsx)("span",{children:aD.from&&a3?"".concat((0,y.$G)(a3,3)," ").concat(aD.from.symbol):"-"})]}),(0,k.jsxs)("div",{className:q().footerRow,children:[(0,k.jsxs)("span",{children:["Route",(0,k.jsx)(n.ib5,{className:q().informationCircleIcon,"data-tip":"Routing through these tokens resulted in the best price for your trade."})]}),(0,k.jsx)("span",{children:a6&&a6.route&&a6.route.path.map(function(a){return a.symbol}).join(" > ")})]})]})]}),aD.to&&aD.from&&(0,k.jsx)(r.Z,{open:aV,setOpen:aW,disabledTokens:[aD.to,aD.from],onTokenSelect:bo,onUserTokenRemove:bn}),aD.to&&aD.from&&(0,k.jsx)(r.Z,{open:aY,setOpen:aZ,disabledTokens:[aD.to,aD.from],onTokenSelect:bp,onUserTokenRemove:bn}),(0,k.jsx)(Y.Z,{effect:"float",multiline:!0,place:"right",offset:{right:10},className:"tooltip"})]})}},5121:function(a){a.exports={ok:"price-impact_ok__vqPU_",medium:"price-impact_medium__mql_t",warn:"price-impact_warn__78_W1"}},4710:function(a){a.exports={mascot:"swap_mascot__SMHmq",swapCard:"swap_swapCard___z6kO",header:"swap_header__39zWf",title:"swap_title__k_JHt",settingsButton:"swap_settingsButton__Dyw0s",slippageValue:"swap_slippageValue__w_7i7",inputsContainer:"swap_inputsContainer__WR13A",inputContainer:"swap_inputContainer__u7jTT",tokenSelectButton:"swap_tokenSelectButton__xXmnw",chevronDownIcon:"swap_chevronDownIcon__SpMuU",tokenLogo:"swap_tokenLogo__L5KG0",tokenSymbol:"swap_tokenSymbol__67__2",tokenAmountInput:"swap_tokenAmountInput__VDPCa",tokenBalance:"swap_tokenBalance__b6Rxf",swapInputsButton:"swap_swapInputsButton__UrJBn",swapInputsIcon:"swap_swapInputsIcon__qFSxZ",flip:"swap_flip__h_brG",footer:"swap_footer__k0g5B",footerRow:"swap_footerRow__rdXyp",settingsIcon:"swap_settingsIcon__m5RBw",informationCircleIcon:"swap_informationCircleIcon__YMg77"}}},function(a){a.O(0,[595,431,492,468,774,888,179],function(){var b;return a(a.s=8229)}),_N_E=a.O()}])